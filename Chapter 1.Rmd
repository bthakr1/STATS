---
title: "Chapter 1"
author: "Bhupendrasinh Thakre"
date: "3/17/2020"
output: html_document
---

### Chapter 1
## Mean, Median, and Variance

```{r}
library(matrixStats)
state <- read.csv("https://raw.githubusercontent.com/bthakr1/STATS/master/state.csv")

head(state)

# Mean of Population
mean(state[["Population"]])
# Mean of population with trimming on both end by 10%
mean(state[["Population"]], trim = 0.1)
# Median of Population
median(state[["Population"]])
# Weighted Mean of Murder Rate based on Population for respective state
weighted.mean(state[["Murder.Rate"]],w=state[["Population"]])
```

## Variability Estimates

Measures whether the data values are tightly clustered or spared out.

1. Deviation : Difference between observed value and mean estimate of location

2. Variance : Sum of Squared Deviation from the mean divided by n-1, where n is the number of observations

3. Standard Deviation : The square root of variance.

4. Percentile : The value such that P percent of the value take on this value or less and (100-P) 
take on this value or more

Variance, Standard Deviation, and Mean Absolute Deviation are not robust to outliers and extreme values.

5. IQR : Difference between 75th Percentile and 25th Percentile.


```{r}
# Standard Deviation of Population
sd(state[["Population"]])
# Inter Quantile Range of Population
IQR(state[["Population"]])
# Mean Absolute Deviation (Not suspectible to outliers)
mad(state[["Population"]])


```

Spread of Murder Rate based on Quantiles

```{r}
quantile(state[["Murder.Rate"]],p=c(0.05,0.25,0.50,0.75,0.95))

quantile(state[["Murder.Rate"]],p=c(0.10,0.25,0.50,0.75,0.90))
```

Boxplot to visulaize the quantile information

```{r}
boxplot(state[["Population"]]/1000000,ylab="Population in Millions")
```

Frequency Tables

```{r}

breaks <- seq(from=min(state[["Population"]]),to=max(state[["Population"]]), length=11)

pop_freq <- cut(state[["Population"]], breaks = breaks,right = TRUE, include.lowest = TRUE)

table(pop_freq)

```


Histogram : Used to plot bins on X Axis and Count on Y Axis

```{r}

hist(state[["Population"]], breaks = breaks, main = "Histogram of Population", xlab = "Population Bins")

```


Density Plot : Shows the distribution of data values as a continous line.  Sort of "smoothed histogram". 

```{r}
hist(state[["Murder.Rate"]],  xlab = "Murder Rate", ylab = "Frequency", main="Histogram for Murder Rate")
# Density Plot for Murder Rate
hist(state[["Murder.Rate"]], freq = FALSE, , xlab = "Murder Rate", ylab = "Density", main="Density Plot for Murder Rate")
lines(density(state[["Murder.Rate"]]), lwd = 3, col = "blue")

```



# Exploring Binary and Categorical Data

Mode : The most commonly occuring category or value

Bar Chart : The frequency or proportion for each ctegory plotted as bars

``` {r}
# Getting airline Data
library(dplyr)
library(tidyr)
library(ggplot2)
library(corrplot)
library(descr)
airline <- read.csv("https://raw.githubusercontent.com/bthakr1/STATS/master/airline_stats.csv")

breaks <- seq(from=min(state[["Population"]]), to = max(state[["Population"]]), length = 11)
pop_freq <- cut(state[["Population"]], breaks = breaks, right = TRUE, include.lowest = TRUE)
state['PopFreq'] <- pop_freq


state_abb <- state %>% 
  arrange(Population) %>% 
  group_by(PopFreq) %>%
  summarize(state = paste(Abbreviation, collapse = ","), .drop=FALSE) %>%
  complete(PopFreq,fill=list(state='')) %>%
  select(state)

```











